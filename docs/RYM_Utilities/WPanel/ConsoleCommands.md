# Консольные команды

#RYM_Utilities

Кнопки для активации консольных команд, преимущественно для оценки оптимизации сцены.

![[WidgetPanel_ConsoleCommands.png]]{style="border-radius: 5px"}

### FPS
`stat fps`

Отображает текущее количество кадров, обрабатываемых в секунду, и время, необходимое для обработки кадра, в миллисекундах (мс).

![[WidgetPanel_CC_FPS.png]]{style="border-radius: 5px"}
### UNIT
`stat unit`

Отображает время, затраченное на текущий кадр на ЦП, время, затраченное на игровой поток, время, затраченное на поток рендеринга, и время, затраченное на текущий кадр на ГП.

![[WidgetPanel_CC_UNIT.png]]{style="border-radius: 5px"}

> [!info] Описание значений
> **Frame** - Общее количество времени, затраченное на создание одного кадра игры. Поскольку потоки Game и Draw синхронизируются перед завершением кадра, время кадра часто близко к времени, отображаемому в одном из этих потоков.
> 
> **Game** - Время затрачиваемое на игровой поток. Это работа центрального процессора над логикой (кодом) игры. Когда время кадра очень близко этому значению, это означает, что вы ограничены потоком игры - проседает процессор.
> 
> **Draw** (рендеринг) - Время, затраченное на процесс рендеринга. Это работа центрального <u>процессора</u> по подготовке данных для видеокарты. Когда время кадра очень близко к этому значению, вы ограничены потоком рендеринга - опять же проседает процессор.
> 
> **GPU**	- Время затрачиваемое графическим процессором на рендеринг сцены. Поскольку время графического процессора синхронизируется с кадром, оно, скорее всего, будет похоже на время кадра. Если это значение приближается к значению времени кадра, а Game и Draw - нет, то ваше узкое место - видеокарта.
> 
> **RHIT** -	Как правило, время потока RHI синхронизируется с кадром и, скорее всего, будет похоже на время кадра.
> 
> **DynRes** - Если функция [Dynamic resolution](https://dev.epicgames.com/documentation/en-us/unreal-engine/dynamic-resolution-in-unreal-engine) поддерживается (и включена), она показывает процент первичного экрана по проценту вторичного экрана.
> 
> **Draws** - Текущее количество вызовов функции DrawPrimitive.
> 
> **Prims** - Текущее количество рисуемых треугольников.

### RHI
`stat rhi`
Отображает память RHI и статистику производительности.

![[WidgetPanel_CC_RHI.png]]{style="border-radius: 5px"}

> [!info]- Что такое RHI
> **Render Hardware Interface** (RHI) — это уровень абстракции над несколькими платформенно-специфичными графическими API. Например gpu.

### GPU
`stat gpu`
Отображает статистику графического процессора (GPU) для кадра.

![[WidgetPanel_CC_GPU.png]]{style="border-radius: 5px"}

### ANIM
`stat anim`
Отображает статистику для системы анимации.

![[ConsoleCommands_ANIM.png]]{style="border-radius: 5px"}

### SCENE RENDERING
`stat scenerendering`
Показывает общую статистику рендеринга. Это хорошая отправная точка для поиска областей с низкой производительностью в процессе рендеринга.

![[ConsoleCommands_SceneRendering.png]]{style="border-radius: 5px"}

### MEMORY
`stat memory`
Отображает информацию о памяти, используемой различными системами.

![[WidgetPanel_CC_MEMORY.png]]{style="border-radius: 5px"}
### PROFILE PER MATERIAL
`r.RHISetGPUCaptureOptions 1` , `profile gpu`
Переключает параметр профайлера на отображение времени рендеринга материалов в милисекундах и открывает его.

![[WidgetPanel_CC_ProfilePerMaterial.png]]{style="border-radius: 5px"}


### MAX FPS
`t.MaxFPS ` + значение

Устанавливают максимальную кадровую частоту на указанное значение.

### CLIPPING
`r.SetNearClipPlane ` + значение

Устанавливает минимальное расстояние до камеры при котором начинается рендеринг объектов.